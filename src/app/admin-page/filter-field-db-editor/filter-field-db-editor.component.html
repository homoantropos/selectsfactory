<ng-container class="forms-inputs" *ngIf="edit; else disabled">
  <form
    [formGroup]="filterFieldEditorForm"
    (ngSubmit)="onSubmit(filterFieldEditorForm.value)"
  >
    <mat-form-field>
      <mat-label>назва поля...</mat-label>
      <input matInput
             #nameInput
             title="for fieldName"
             type="text"
             formControlName="fieldName">
    </mat-form-field>

    <mat-form-field class="forms-inputs">
      <mat-label>початкове значення...</mat-label>
      <input matInput
             title="for initValue"
             type="text"
             formControlName="initValue">
    </mat-form-field>

    <ng-container formArrayName="valueOptions"
                  *ngFor="let valueOptionGroup of getValueOptionsArray()['controls']; let i = index"
    >
      <form formGroupName="{{i}}">

        <mat-form-field class="forms-inputs">
          <mat-label>value:</mat-label>
          <input matInput
                 title="for value"
                 type="text"
                 formControlName="value">
        </mat-form-field>

        <mat-form-field class="forms-inputs">
          <mat-label>option:</mat-label>
          <input matInput
                 title="for option"
                 type="text"
                 formControlName="option">
        </mat-form-field>

      </form>
    </ng-container>

    <button
      [disabled]="filterFieldEditorForm.invalid"
      mat-button color="primary" type="submit"
    >
      додати
    </button>
  </form>
</ng-container>

<ng-template #disabled>

  <table class="table table-striped">
    <tr>
      <th>назва поля:</th>
      <td><span class="m-b-3">{{filterFieldEditorForm.value['fieldName']}}</span></td>
    </tr>
    <tr>
      <th>початкове значення:</th>
      <td><span class="m-b-3">{{filterFieldEditorForm.value['initValue']}}</span></td>
    </tr>
  </table>

  <div class="table table-striped" *ngFor="let valueOptionGroup of getValueOptionsArray()['controls']">
      <th class="col-sm-3">value:</th>
      <td class="col-sm-3"><span class="m-b-3">{{valueOptionGroup.value['value']}}</span></td>
      <th class="col-sm-3">option:</th>
      <td class="col-sm-3"><span class="m-b-3">{{valueOptionGroup.value['option']}}</span></td>
  </div>

</ng-template>

<button *ngIf="!edit"
  mat-button color="primary"
  type="button"
  (click)="edit = !edit">
  редагувати
</button>
